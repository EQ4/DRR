<p>Indycast is a set of federated servers controlled by a community for time-shifting independent radio.</p>
<p>I've been a listener and supporter of non-commercial radio for about 20 years.</p>
<p>In that time, I've found a few things:</p>
<ul>
<li>Often the best shows are on at inconvenient hours</li>
<li>These shows are rarely archived</li>
<li>When the shows are archived, they have the following properties</li>
<li>I often need itunes, which I don't have</li>
<li>They break the show down into small units that must be reconstituted manually</li>
<li>You have to know every show and stations individual site</li>
<li>The retention policy of the audio and when it is availabe widely varies</li>
</ul>
<p>However, they all have internet streams that you can listen to wherever.</p>
<p>So a few years ago I made a shell-scripted solution for this. cron would fire off a downloader at the time my show was on, the downloader would time-stamp the web stream and dump it in a directory and then I can listen to it later.</p>
<p>This worked fine. For years actually. But it was so useful I wanted to share this with everyone.</p>
<p>So I had to make a system that everyone could use.</p>
<h2 id="designing-something-for-everyone">Designing something for everyone</h2>
<p>I made a few decisions to set up the framework of the system early on:</p>
<ul>
<li>Non-commercial - I wanted a way to support and provide listener supported radio in a convenient manner</li>
<li>Free - Although I'm just building a platform, it didn't feel right charging people for this so it had to be free</li>
<li>Distributed - The architecture has to allow people from other places with their own stations to join the network without much effort</li>
<li>Open source and hackable - Every device and reasonable way of listening to content should be supported</li>
</ul>
<h2 id="architecture">Architecture</h2>
<p>Since there's no money behind this, that means that I'd need a way to do this cheaply and in a way that has a really low barrier to entry for participation. I want to encourage people to run and manage their own servers for their favorite radio station.</p>
<p>Here were my priorities, the solution should be:</p>
<ul>
<li>easy and quick to setup.</li>
<li>a small-footprint, unobtrusive system that can piggy-back on servers doing other things.</li>
<li>highly configurable with reasonable defaults.</li>
<li>able to be disk and network effecient.</li>
<li>able to be run multiple times on the same machine for different stations.</li>
</ul>
<p>It also should not</p>
<ul>
<li>require significant dependencies</li>
<li>be language-specific with arcane knowledge needed in order to get it running.</li>
</ul>
<p>So the stack chosen was Python 2.7, Flask, and SQLite 3. The audio library was written by hand.</p>
<h2 id="user-experience">User-experience</h2>
<h3 id="administrator">Administrator</h3>
<p>I envisioned the ideal user-experience of someone who wants to participate in this:</p>
<p>Alice, a junior dev, is interested in adding her station, RDIO. She</p>
<ul>
<li>git clones the repository</li>
<li>runs a small shell script to install dependencies</li>
<li>goes to RDIO's website and finds the live stream url</li>
<li>puts the url in a configuration file, say rdio.txt</li>
<li>runs the server with this configuration file.</li>
</ul>
<h3 id="user">User</h3>
<p>The user of the service should be able to do the following:</p>
<h4 id="subscribe-to-any-time-slot">Subscribe to any time slot</h4>
<p>This should be accessible with a simple url schema:</p>
<pre><code>http://indycast.net/*station*/*weekday,...*/*start time*/*duration*/*name*</code></pre>
<p>For instance, if there's a 2 hour show called, say &quot;Darkwaves&quot; at 2AM monday and wednesday mornings, you could do:</p>
<pre><code>http://indycast.net/rdio/mon,wed/2am/2hr/Darkwaves.xml</code></pre>
<p>And that url should be openable in anything that ostensibly accepts &quot;podcasts&quot;.</p>
<h4 id="listen-to-live-radio-with-a-delay">Listen to live radio with a delay</h4>
<p>Alice turns on her radio and there's a fascinating interview going on. Unfortunately, she missed the beginning of it. She should be able to listen to RDIO starting say, 5 minutes ago, by doing the following:</p>
<pre><code>http://indycast.net/rdio/live/-5min</code></pre>
<p>Or, if she wanted to listen starting at 1pm, this should work:</p>
<pre><code>http://indycast.net/rdio/live/1pm</code></pre>
<h4 id="pick-any-arbitrary-time-slice">Pick any arbitrary time slice</h4>
<p>If Alice just wants to listen to say, the Darkwaves show directly, from the command line, without all the hassle, she should be able to specify a date, time, and duration, such as this:</p>
<pre><code>$ mplayer http://indycast.net/rdio/at/monday_2am/2hr</code></pre>
